<section class="binance-page">
  <mat-toolbar color="primary" class="binance-toolbar">
    <span>Binance BTCUSDT</span>
    <span class="spacer"></span>
    <span class="toolbar-subhead">Listening on http://localhost:3001</span>
  </mat-toolbar>

  <div class="binance-grid">
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>Latest Binance Tick</mat-card-title>
        <mat-chip-set>
          <mat-chip color="accent" selected>Live</mat-chip>
        </mat-chip-set>
      </mat-card-header>
      <mat-card-content>
        @if (latestBinance$ | async; as binance) {
          <div class="payload-grid">
            <div>
              <p class="label">Exchange</p>
              <p class="value">{{ binance.exchange ?? '--' }}</p>
            </div>
            <div>
              <p class="label">Symbol</p>
              <p class="value">{{ binance.symbol ?? '--' }}</p>
            </div>
            <div>
              <p class="label">Price</p>
              <p class="value">{{ formatPrice(binance.price) }}</p>
            </div>
            <div>
              <p class="label">Time</p>
              <p class="value">{{ formatTimestamp(binance.timestamp) }}</p>
            </div>
          </div>

          <div class="raw-block">
            <p class="label">Raw Payload</p>
            <pre class="raw">{{ formatJson(binance.raw) }}</pre>
          </div>
        } @else {
          <p class="empty">No Binance events received yet.</p>
        }
      </mat-card-content>
    </mat-card>
  </div>
</section>
